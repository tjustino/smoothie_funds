var checkbox = document.getElementById('check_<%= @transaction.id %>').getElementsByTagName('i');

if (checkbox[0].className == 'fa-regular fa-square') {
  checkbox[0].className = 'fa-regular fa-square-check';
} else {
  checkbox[0].className = 'fa-regular fa-square';
}

<% sum = escape_javascript(render partial: "sum_checked",
                                  locals:  { sum_checked: @sum_checked }) %>

document.getElementById('sum_checked').outerHTML = '<%= sum %>';
